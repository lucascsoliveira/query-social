<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"      
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      lang="pt-br">

    <ui:composition template="template/dashboard.xhtml">
        <ui:define name="#{section['body.content.title']}">
            Nova busca
        </ui:define>

        <ui:define name="#{section['body.content.content']}">
            <form action="#{request.contextPath}#{contextUrls.search}" class="form-inline style-form" method="post">
                <div class="form-group">
                    <div class="input-group">
                        <input id="query" name="query" type="text" class="form-control" placeholder="#{msg['search.placeholder.busca']}"/>
                        <div class="input-group-btn">
                            <button type="submit" class="btn btn-theme">#{msg['search.button.buscar']}</button>
                        </div>
                    </div>
                </div>
            </form>

            <!--
            <table class="table table-hover"></table>
            <div class="form-inline centered">
                <input type="text" class="form-control" placeholder="#{msg['search.placeholder.data_inicio']}"/>
                <input type="text" class="form-control" placeholder="#{msg['search.placeholder.data_fim']}"/>
                <button type="submit" class="btn btn-theme">#{msg['search.button.graph']}</button>
            </div>
            -->

            <form action="#{request.contextPath}#{contextUrls.search}#{contextUrls.result}" method="post">
                <div class="row mt">
                    <div class="col-lg-12">
                        <div class="content-panel">
                            <p:dataTable id="resultDataTable" var="page" value="#{searchBean.pages}" selection="#{searchBean.selectedPages}" rowKey="#{page.id}" style="margin-bottom:0">
                                <p:column selectionMode="multiple" style="width:16px;text-align:center"/>
                                <p:column headerText="#{msg['search.tabela.coluna.name']}">
                                    <h:outputText value="#{page.name}" />
                                </p:column>
                                <p:column headerText="#{msg['search.tabela.coluna.link']}">
                                    <h:outputText value="#{page.link}" />
                                </p:column>
                                <p:column headerText="#{msg['search.tabela.coluna.category']}">
                                    <h:outputText value="#{page.category}" />
                                </p:column>
                                <p:column headerText="#{msg['search.tabela.coluna.likes']}">
                                    <h:outputText value="#{page.likes}" />
                                </p:column>
                                <p:column headerText="#{msg['search.tabela.coluna.talkingAbout']}">
                                    <h:outputText value="#{page.talkingAboutCount}" />
                                </p:column>
                            </p:dataTable>
                            <div class="form-inline centered">
                                <input id="startDate" name="startDate" class="form-control" placeholder="#{msg['search.placeholder.data_inicio']}"/>
                                <input id="endDate" name="endDate" class="form-control" placeholder="#{msg['search.placeholder.data_fim']}"/>
                                <button type="submit" class="btn btn-theme">#{msg['search.button.graph']}</button>
                            </div>    
                        </div>
                    </div>
                </div>
            </form>
        </ui:define>

        <ui:define name="#{section['body.script_custom']}">
            <script>
                $(function () {
                    $("#startDate").datepicker({dateFormat: 'dd/mm/yy'});
                    $("#endDate").datepicker({dateFormat: 'dd/mm/yy'});
                });
            </script>
        </ui:define>

    </ui:composition>

</html>